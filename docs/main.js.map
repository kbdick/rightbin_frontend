{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/collector/collected/collected.component.ts","./src/app/collector/collector.component.ts","./src/app/collector/collector.module.ts","./src/app/collector/queued/queued.component.ts","./src/app/directives/autofocus.directive.ts","./src/app/directives/focus-invalid-input.directive.ts","./src/app/home/home.component.ts","./src/app/page-not-found/page-not-found.component.ts","./src/app/reports/dashboard/dashboard.component.ts","./src/app/reports/last-input/last-input.component.ts","./src/app/reports/leaderboard/leaderboard.component.ts","./src/app/reports/reports.component.ts","./src/app/reports/reports.module.ts","./src/app/reports/tips/tips.component.ts","./src/app/reports/trend/trend.component.ts","./src/app/services/api.service.ts","./src/app/services/collect.service.ts","./src/app/services/collector.service.ts","./src/app/services/container.service.ts","./src/app/services/location.service.ts","./src/app/services/network.service.ts","./src/app/services/scale_service.ts","./src/app/services/user.service.ts","./src/app/services/waste-type.service.ts","./src/app/ui/footer/footer.component.ts","./src/app/ui/header/header.component.ts","./src/app/ui/layout/layout.component.ts","./src/app/ui/ui.module.ts","./src/app/user/email-login/email-login.component.ts","./src/app/user/login/login.component.ts","./src/app/user/user.module.ts","./src/app/web-usb/web-usb.component.ts","./src/environments/environment.ts","./src/main.ts","./src/styles.css","./src/app/app.component.scss","./src/app/collector/collected/collected.component.scss","./src/app/collector/collector.component.scss","./src/app/collector/queued/queued.component.scss","./src/app/home/home.component.scss","./src/app/page-not-found/page-not-found.component.scss","./src/app/reports/dashboard/dashboard.component.scss","./src/app/reports/last-input/last-input.component.scss","./src/app/reports/leaderboard/leaderboard.component.scss","./src/app/reports/reports.component.scss","./src/app/reports/tips/tips.component.scss","./src/app/reports/trend/trend.component.scss","./src/app/ui/footer/footer.component.scss","./src/app/ui/header/header.component.scss","./src/app/ui/layout/layout.component.scss","./src/app/user/email-login/email-login.component.scss","./src/app/user/login/login.component.scss","./src/app/web-usb/web-usb.component.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CollectorComponent } from \"./collector/collector.component\";\nimport { HomeComponent } from \"./home/home.component\";\nimport { DashboardComponent } from './reports/dashboard/dashboard.component';\nimport { LeaderboardComponent } from \"./reports/leaderboard/leaderboard.component\";\nimport { LoginComponent } from \"./user/login/login.component\";\nimport { PageNotFoundComponent } from \"./page-not-found/page-not-found.component\";\nimport { ReportsComponent } from \"./reports/reports.component\";\nimport { UserService } from './services/user.service';\n\nexport const routes: Routes = [\n  { path: '', component: DashboardComponent, canActivate: [UserService] },\n  { path: 'collect_form', component: CollectorComponent, canActivate: [UserService] },\n  { path: 'dashboard', component: DashboardComponent, canActivate: [UserService] },\n  { path: 'home', component: HomeComponent },\n  { path: 'leaderboard', component: LeaderboardComponent, canActivate: [UserService] },\n  { path: 'login', component: LoginComponent },\n  { path: 'reports', component: ReportsComponent, canActivate: [UserService] },\n  { path: '**', component: PageNotFoundComponent }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes, {onSameUrlNavigation: 'reload'}) ],\n  exports: [ RouterModule ]\n})\n\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss', '../styles.css']\n})\n\nexport class AppComponent {\n  title = 'RecycleTracker';\n\n  constructor() {}\n\n  ngOnInit() {\n  }\n\n}","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, Inject, Injectable, InjectionToken, NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AppRoutingModule } from './app-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport Rollbar from 'rollbar';\n\nimport { CollectorModule } from './collector/collector.module';\nimport { ReportsModule } from './reports/reports.module';\nimport { UiModule } from './ui/ui.module';\nimport { UserModule } from './user/user.module';\n\nimport { AppComponent } from './app.component';\nimport { PageNotFoundComponent } from './page-not-found/page-not-found.component';\nimport { WebUsbComponent } from './web-usb/web-usb.component';\nimport { FocusInvalidInputDirective } from './directives/focus-invalid-input.directive';\nimport { AutofocusDirective } from './directives/autofocus.directive';\nimport { HomeComponent } from './home/home.component';\n\n// Rollbar setup for frontend error reporting\nconst rollbarConfig = {\n  accessToken: '956d27308fc746878fdba47ac5adcc99',\n  captureUncaught: true,\n  captureUnhandledRejections: true,\n};\n@Injectable()\nclass RollbarErrorHandler implements ErrorHandler {\n  constructor(@Inject(RollbarService) private rollbar: Rollbar) {}\n\n  handleError(err:any) : void {\n    this.rollbar.error(err.originalError || err);\n  }\n}\nfunction rollbarFactory() {\n  return new Rollbar(rollbarConfig);\n}\nconst RollbarService = new InjectionToken<Rollbar>('rollbar');\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PageNotFoundComponent,\n    WebUsbComponent,\n    FocusInvalidInputDirective,\n    AutofocusDirective,\n    HomeComponent\n  ],\n  imports: [\n    AppRoutingModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    CollectorModule,\n    FormsModule,\n    HttpClientModule,\n    UiModule,\n    UserModule,\n    ReportsModule,\n    ReactiveFormsModule\n  ],\n  exports: [\n    AppRoutingModule,\n    BrowserModule,\n    BrowserAnimationsModule,\n    CollectorModule,\n    FormsModule,\n    HttpClientModule,\n    UiModule,\n    UserModule,\n    ReportsModule,\n    ReactiveFormsModule\n    ],\n  providers: [\n    { provide: ErrorHandler, useClass: RollbarErrorHandler },\n    { provide: RollbarService, useFactory: rollbarFactory },\n  ],\n  bootstrap: [ AppComponent ]\n})\n\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { CollectService } from '../../services/collect.service';\n\n@Component({\n  selector: 'app-collected',\n  templateUrl: './collected.component.html',\n  styleUrls: ['./collected.component.scss']\n})\n\nexport class CollectedComponent implements OnInit {\n\n  constructor(public collectService: CollectService) {}\n\n  ngOnInit() {\n  }\n\n  public get lastCollect() {\n    return this.collectService.lastSavedCollect;\n  }\n\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatLegacyDialog as MatDialog, MatLegacyDialogConfig as MatDialogConfig } from '@angular/material/legacy-dialog';\nimport { AbstractControl, UntypedFormControl, UntypedFormGroup, NgForm, ValidationErrors, Validators } from '@angular/forms';\nimport { Observable, Subscription, combineLatest, pipe } from 'rxjs';\nimport { map, startWith } from \"rxjs/operators\";\n\n// Services\nimport { CollectService } from '../services/collect.service';\nimport { LocationService } from '../services/location.service';\nimport { ScaleService } from '../services/scale_service';\nimport { ContainerService } from '../services/container.service';\nimport { UserService } from '../services/user.service';\nimport { WasteTypeService } from '../services/waste-type.service';\nimport { CollectorService } from '../services/collector.service';\n\n// Components\nimport { CollectedComponent } from './collected/collected.component';\nimport { QueuedComponent } from './queued/queued.component';\n\n// Models\nimport { CollectLocation } from '../models/location.model';\nimport { WasteType } from '../models/waste_type.model';\nimport { Collector } from '../models/collector.model';\nimport { Container } from '../models/container.model';\nimport { CollectInput } from '../models/collects.model';\n\n@Component({\n  selector: 'app-collector',\n  templateUrl: './collector.component.html',\n  styleUrls: ['./collector.component.scss']\n})\n\nexport class CollectorComponent implements OnInit {\n\n    @ViewChild('form', {static: false}) collectNgForm: NgForm;\n\n    collectForm = new UntypedFormGroup({\n      collect_location: new UntypedFormControl(null, [Validators.required]),\n      waste_type: new UntypedFormControl('', [Validators.required]),\n      collector: new UntypedFormControl(null, [Validators.required]),\n      container: new UntypedFormControl(null, [Validators.required]),\n      tare_weight: new UntypedFormControl('', [Validators.required, Validators.min(0)]),\n      scale_weight: new UntypedFormControl(0, [Validators.required, Validators.min(0)]),\n      net_weight: new UntypedFormControl(0, [Validators.required, Validators.min(0)])\n    });\n\n    // collects: any;\n\n    scale_weight: number = 0;\n    tare_weight: number = 0;\n    net_weight: number = 0;\n    container: number = 0;\n\n    // Observables\n    public scaleValue$: number;\n    filteredCollectLocations$: Observable<CollectLocation[]>;\n    filteredWaste_Types$: Observable<WasteType[]>;\n    filteredCollectors$: Observable<Collector[]>;\n    filteredContainers$: Observable<Container[]>;\n\n    // Subscriptions\n    scaleSubscription: Subscription = null;\n    scaleWeightSubscription: Subscription = null;\n    tareWeightSubscription: Subscription = null;\n    tareSubscription: Subscription = null;\n\n    // Form state\n    //showForm: boolean = true;\n    success: boolean = false;\n    //isLoading: boolean = false;\n    //isSubmitted: boolean = false;\n\n    // Validators\n    static locationIsValid(component: CollectorComponent){\n      return (control: AbstractControl): ValidationErrors => {\n        if (component && !component.ls.idFromLocationName(control.value)) {\n          return { validSet: { value: control.value } };\n        }\n        return null;\n      }\n    }\n\n    static waste_typeIsValid(component: CollectorComponent){\n      return (control: AbstractControl): ValidationErrors => {\n        if (component && !component.wts.idFromWaste_TypeName(control.value)) {\n          return { validSet: { value: control.value } };\n        }\n        return null;\n      }\n    }\n\n    static collectorIsValid(component: CollectorComponent){\n      return (control: AbstractControl): ValidationErrors => {\n        if (component && !component.collrs.idFromCollectorName(control.value)) {\n          return { validSet: { value: control.value } };\n        }\n        return null;\n      }\n    }\n\n    static containerIsValid(component: CollectorComponent){\n      return (control: AbstractControl): ValidationErrors => {\n        if (component && !component.conts.idFromContainerName(control.value)) {\n          return { validSet: { value: control.value } };\n        }\n        return null;\n      }\n    }\n\n  constructor(\n      public ls: LocationService,\n      public dialog: MatDialog,\n      public ss: ScaleService,\n      public conts: ContainerService,\n      public us: UserService,\n      public wts: WasteTypeService,\n      public collrs: CollectorService,\n      private cs: CollectService\n  ) {}\n\n  ngOnInit(): void {\n\n    // Check authentication\n    this.isLoggedIn();\n\n    // Get the scale weight from the API and update the scale weight value\n    this.updateScaleWeight();\n\n    // Update the net weight based on the scale weight and current tare value\n    this.updateNetWeight();\n\n    this.filteredCollectLocations$ = combineLatest(\n      this.collectForm.controls.collect_location.valueChanges.pipe(\n        startWith('')),\n        this.ls.collectLocations,\n      )\n      .pipe(\n      map(([value, collectLocations]) => {\n        const filtered = value ? this._filteredCollectLocations(value, collectLocations) : collectLocations;\n        return filtered.sort((a, b) => (a.floor > b.floor) ? 1 : (a.floor === b.floor) ? ((a.name > b.name) ? 1 : -1) : -1 );\n      })\n    );\n\n    this.filteredWaste_Types$ = combineLatest(\n      this.collectForm.get('waste_type').valueChanges\n      .pipe(\n        startWith('')),\n        this.wts.waste_types,\n      )\n      .pipe(\n        map(([value, waste_types]) => {\n          const filtered = value ? this._filteredWasteTypes(value, waste_types) : waste_types;\n          return filtered;\n      })\n    );\n\n    this.filteredCollectors$ = combineLatest(\n      this.collectForm.controls.collector.valueChanges\n      .pipe(\n        startWith('')),\n        this.collrs.collectors,\n      )\n      .pipe(\n        map(([value, collectors]) => {\n          const filtered = value ? this._filteredCollectors(value, collectors) : collectors;\n          return filtered;\n      })\n    );\n\n    this.filteredContainers$ = combineLatest(\n      this.collectForm.controls.container.valueChanges\n      .pipe(\n        startWith('')),\n        this.conts.containers,\n      )\n      .pipe(\n        map(([value, containers]) => {\n          const filtered = value ? this._filteredContainers(value, containers) : containers;\n          return filtered;\n      })\n    );\n\n    this.updateTare();\n    this.getScaleUnit();\n\n  }\n\n    updateScaleWeight(): void {\n        this.scaleSubscription = this.ss.getScaleWeight()\n          .subscribe((scale)=>{\n          this.scaleValue$ = scale;\n          console.log(scale + ' -> log of scale');\n          console.log(this.scaleValue$ + ' -> log of scaleValue$');\n          this.collectForm.controls['scale_weight'].setValue(Math.round((this.scaleValue$)*100)/100);\n        });\n    }\n\n    isLoggedIn() {\n      return this.us.currentUser.toPromise();\n    }\n\n    getScaleUnit() {\n      let scale_unit = \"lbs\";\n      return scale_unit;\n    }\n\n    updateNetWeight(): void {\n      this.scaleWeightSubscription = this.collectForm.get('scale_weight').valueChanges\n        .subscribe((scale: number) => {\n          this.scale_weight = scale;\n          this.collectForm.controls['net_weight'].setValue(Math.round((this.scale_weight - this.tare_weight)*100)/100);\n        });\n      this.tareWeightSubscription = this.collectForm.get('tare_weight').valueChanges\n        .subscribe((container: number) => {\n          this.tare_weight = container;\n          this.collectForm.controls['net_weight'].setValue(Math.round((this.scale_weight - this.tare_weight)*100)/100);\n        });\n    }\n\n    updateTare() {\n      this.tareSubscription = this.collectForm.controls['container'].valueChanges\n        .subscribe(containerNameChange => {\n          const container = this.conts.getContainerByName(containerNameChange);\n          if (container) {\n            this.collectForm.controls['tare_weight'].setValue(container.tare_weight);\n          }\n        });\n    }\n\n    // Autocomplete Filters\n\n    private _filteredCollectLocations(value: string, collectLocations: CollectLocation[]): CollectLocation[] {\n      const filterValue = value.toLowerCase();\n      return collectLocations.filter(collectLocation => collectLocation.name.toLowerCase().indexOf(filterValue) === 0);\n    }\n\n    private _filteredWasteTypes(value: string, waste_types: WasteType[]): WasteType[] {\n      const filterValue = value.toLowerCase();\n      return waste_types.filter(waste_type => waste_type.waste_type_name.toLowerCase().indexOf(filterValue) === 0);\n    }\n\n    private _filteredCollectors(value: string, collectors: Collector[]): Collector[] {\n      const filterValue = value.toLowerCase();\n      return collectors.filter(collector => collector.name.toLowerCase().indexOf(filterValue) === 0);\n    }\n\n    private _filteredContainers(value: string, containers: Container[]): Container[] {\n      const filterValue = value.toLowerCase();\n      return containers.filter(container => container.name.toLowerCase().indexOf(filterValue) === 0);\n    }\n\n    getCollectFromForm(form: UntypedFormGroup) {\n      const values = form.value;\n\n      const collect: CollectInput = {\n        container_id: this.conts.idFromContainerName(values.container),\n        location_id: this.ls.idFromLocationName(values.collect_location),\n        waste_type: values.waste_type,\n        net_weight: values.net_weight,\n        collector_id: this.collrs.idFromCollectorName(values.collector),\n        scale_weight: values.scale_weight,\n        tare_weight: values.tare_weight,\n        weighed_at: Date.now() / 1000, // Server is expecting unix seconds, not milliseconds\n      }\n\n      return collect;\n    }\n\n    collectFormReset() {\n        this.collectNgForm.resetForm();\n    }\n\n    async onSubmit() {\n      const collect = this.getCollectFromForm(this.collectForm);\n      if (!this.cs.collectIsValid(collect)) {\n        console.error(\"Tried to submit an invalid collect. Not sending to the server.\", collect);\n        return;\n      } else {\n        if (this.cs.isOnline) {\n          try {\n            await this.cs.submitCollect(collect).toPromise();\n            this.openCollectedDialog()\n            this.success = true;\n          } catch(err) {\n            console.error(err);\n          }\n        } else {\n          this.cs.addToQueue(collect);\n          this.openQueuedDialog();\n        }\n      }\n\n      //Reset the form\n      this.collectForm.reset();\n    }\n\n    openCollectedDialog() {\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.disableClose = true;\n      dialogConfig.autoFocus = true;\n      dialogConfig.hasBackdrop = true;\n      dialogConfig.width = \"16rem\";\n      dialogConfig.height = \"20rem\";\n      dialogConfig.closeOnNavigation = true;\n      const dialogRef = this.dialog.open(CollectedComponent, dialogConfig);\n      setTimeout(function(){\n        dialogRef.close();\n      }, 8000); // stay open for 8 seconds\n    }\n\n    openQueuedDialog() {\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.disableClose = true;\n      dialogConfig.autoFocus = true;\n      dialogConfig.hasBackdrop = true;\n      dialogConfig.width = \"16rem\";\n      dialogConfig.height = \"20rem\";\n      dialogConfig.closeOnNavigation = true;\n      const dialogRef = this.dialog.open(QueuedComponent, dialogConfig);\n      setTimeout(function(){\n        dialogRef.close();\n      }, 8000); // stay open for 8 seconds\n    }\n\n    ngOnDestroy(){\n      this.scaleSubscription?.unsubscribe();\n      this.scaleWeightSubscription?.unsubscribe();\n      this.tareWeightSubscription?.unsubscribe();\n      this.tareSubscription?.unsubscribe();\n    }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { CollectorComponent } from './collector.component';\nimport { CollectedComponent } from './collected/collected.component';\nimport { QueuedComponent } from './queued/queued.component';\n\n// UI\nimport { UiModule } from '../ui/ui.module';\nimport { MatLegacyAutocompleteModule as MatAutocompleteModule } from '@angular/material/legacy-autocomplete';\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\nimport { MatLegacyDialogModule as MatDialogModule } from '@angular/material/legacy-dialog';\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\nimport { MatLegacyProgressSpinnerModule as MatProgressSpinnerModule } from '@angular/material/legacy-progress-spinner';\nimport { MatLegacySelectModule as MatSelectModule } from '@angular/material/legacy-select';\n\n@NgModule({\n    declarations: [\n        CollectorComponent,\n        CollectedComponent,\n        QueuedComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        UiModule,\n        MatAutocompleteModule,\n        MatButtonModule,\n        MatCardModule,\n        MatDialogModule,\n        MatFormFieldModule,\n        MatGridListModule,\n        MatIconModule,\n        MatInputModule,\n        MatProgressSpinnerModule,\n        MatSelectModule\n    ],\n    exports: [\n        CollectedComponent,\n        QueuedComponent,\n        FormsModule,\n        ReactiveFormsModule,\n        UiModule,\n        MatAutocompleteModule,\n        MatButtonModule,\n        MatCardModule,\n        MatDialogModule,\n        MatFormFieldModule,\n        MatGridListModule,\n        MatIconModule,\n        MatInputModule,\n        MatProgressSpinnerModule,\n        MatSelectModule\n    ]\n})\nexport class CollectorModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-queued',\n  templateUrl: './queued.component.html',\n  styleUrls: ['./queued.component.scss']\n})\n\nexport class QueuedComponent implements OnInit {\n  constructor() {}\n  ngOnInit() {}\n}\n","import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '[autofocus]'\n})\nexport class AutofocusDirective {\n\n  constructor(private host: ElementRef) { }\n\n  ngAfterViewInit() {\n    this.host.nativeElement.focus();\n  }\n\n}\n\n","import { Directive, HostListener, ElementRef } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { FormGroup } from '@angular/forms';\n\n@Directive({\n  selector: '[appFocusInvalidInput]'\n})\n\nexport class FocusInvalidInputDirective {\n\n  constructor(private el: ElementRef) { }\n  \n  @HostListener('submit')\n  onFormSubmit() {\n    const invalidControl = this.el.nativeElement.querySelector('.ng-invalid');\n\n    if (invalidControl) {\n      invalidControl.focus();\n    }\n  }\n\n}","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.scss']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\n\nexport class DashboardComponent implements OnInit {\n\n  constructor() {}\n\n  ngOnInit() {\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { CollectService } from '../../services/collect.service';\n\n@Component({\n  selector: 'app-last-input',\n  templateUrl: './last-input.component.html',\n  styleUrls: ['./last-input.component.scss']\n})\n\nexport class LastInputComponent implements OnInit {\n\n  constructor(public collectService: CollectService) {}\n\n  ngOnInit() {\n  }\n\n  public get lastCollect() {\n    return this.collectService.lastSavedCollect;\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\nexport interface Tenants {\n  name: string;\n  position?: number;\n  percent?: number;\n  suite: string;\n  logo: string;\n}\n\nconst LOCATION_DATA: Tenants[] = [\n      {\n        name: 'The Mart/Vornado',\n        position: 1,\n        percent: 0.45,\n        suite: '470',\n        logo: './assets/img/theMART_logo.png'\n      },\n      {\n        name: 'Yelp',\n        position: 2,\n        percent: 0.43,\n        suite: '26',\n        logo: './assets/img/yelp_logo.png'\n      },\n      {\n        name: 'Braintree',\n        position: 3,\n        percent: 0.423,\n        suite: '20.27M',\n        logo: './assets/img/braintree_logo.png'\n      },\n      {\n        name: 'VelocityEHS',\n        position: 4,\n        percent: 0.41,\n        suite: '40',\n        logo: './assets/img/velocity-ehs_logo.png'\n      },\n      {\n        name: 'Motorola',\n        position: 5,\n        percent: 0.40,\n        suite: '40',\n        logo: './assets/img/motorola_logo.png'\n      },\n      {\n        name: 'Beam Suntory',\n        position: 6,\n        percent: 0.36,\n        suite: '40',\n        logo: './assets/img/beam-suntory_logo.png'\n      },\n      {\n        name: 'Allstate/Arity',\n        position: 7,\n        percent: 0.34,\n        suite: '40',\n        logo: './assets/img/allstate_logo.png'\n      },\n      {\n        name: '1871',\n        position: 8,\n        percent: 0.33,\n        suite: '40',\n        logo: './assets/img/1871_logo.png'\n      },\n      {\n        name: 'CCC on 4',\n        position: 9,\n        percent: 0.31,\n        suite: '40',\n        logo: './assets/img/ccc_logo.png'\n      },\n      {\n        name: 'CCC on 9',\n        position: 10,\n        percent: 0.23,\n        suite: '9th Floor',\n        logo: './assets/img/ccc_logo.png'\n      },\n      {\n        name: 'Wunderman Thompson',\n        position: 11,\n        percent: 0.18,\n        suite: '40',\n        logo: './assets/img/wunderman-thompson_logo.png'\n      }\n    ];\n\nconst LEADERBOARD_DATA: Tenants[] = [\n  {position: 1, name: LOCATION_DATA[0].name, suite: LOCATION_DATA[0].suite, percent: LOCATION_DATA[0].percent, logo: LOCATION_DATA[0].logo},\n  {position: 2, name: LOCATION_DATA[1].name, suite: LOCATION_DATA[1].suite, percent: LOCATION_DATA[1].percent, logo: LOCATION_DATA[1].logo},\n  {position: 3, name: LOCATION_DATA[2].name, suite: LOCATION_DATA[2].suite, percent: LOCATION_DATA[2].percent, logo: LOCATION_DATA[2].logo},\n  {position: 4, name: LOCATION_DATA[3].name, suite: LOCATION_DATA[3].suite, percent: LOCATION_DATA[3].percent, logo: LOCATION_DATA[3].logo},\n  {position: 5, name: LOCATION_DATA[4].name, suite: LOCATION_DATA[4].suite, percent: LOCATION_DATA[4].percent, logo: LOCATION_DATA[4].logo},\n  {position: 6, name: LOCATION_DATA[5].name, suite: LOCATION_DATA[5].suite, percent: LOCATION_DATA[5].percent, logo: LOCATION_DATA[5].logo},\n  {position: 7, name: LOCATION_DATA[6].name, suite: LOCATION_DATA[6].suite, percent: LOCATION_DATA[6].percent, logo: LOCATION_DATA[6].logo},\n  {position: 8, name: LOCATION_DATA[7].name, suite: LOCATION_DATA[7].suite, percent: LOCATION_DATA[7].percent, logo: LOCATION_DATA[7].logo},\n  {position: 9, name: LOCATION_DATA[8].name, suite: LOCATION_DATA[8].suite, percent: LOCATION_DATA[8].percent, logo: LOCATION_DATA[8].logo},\n  {position: 10, name: LOCATION_DATA[9].name, suite: LOCATION_DATA[9].suite, percent: LOCATION_DATA[9].percent, logo: LOCATION_DATA[9].logo},\n];\n\n@Component({\n  selector: 'app-leaderboard',\n  templateUrl: './leaderboard.component.html',\n  styleUrls: ['./leaderboard.component.scss']\n})\nexport class LeaderboardComponent implements OnInit {\n  \n  displayedColumns: string[] = ['position', 'name', 'logo', 'percent'];\n  dataSource = LEADERBOARD_DATA;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../services/api.service';\n\n// UI\nimport {MatLegacyCardModule as MatCardModule} from '@angular/material/legacy-card';\nimport {MatLegacyTableModule as MatTableModule} from '@angular/material/legacy-table';\nimport {MatToolbarModule} from '@angular/material/toolbar';\n\n@Component({\n  selector: 'app-reports',\n  templateUrl: './reports.component.html',\n  styleUrls: ['./reports.component.scss']\n})\nexport class ReportsComponent implements OnInit {\n\n  constructor(public api: ApiService) {}\n\n  ngOnInit() {\n    const startDate = \"2021-07-01\";\n    const endDate = \"2021-08-01\";\n    this.api.getDefaultReport(startDate, endDate).subscribe(console.log);\n  }\n\n  public get items() {\n    return [];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { LastInputComponent } from './last-input/last-input.component';\nimport { LeaderboardComponent } from './leaderboard/leaderboard.component';\nimport { ReportsComponent } from './reports.component';\nimport { TipsComponent } from './tips/tips.component';\nimport { TrendComponent } from './trend/trend.component';\n\n// UI\nimport {MatLegacyCardModule as MatCardModule} from '@angular/material/legacy-card';\nimport {MatGridListModule} from '@angular/material/grid-list';\nimport {MatLegacyTableModule as MatTableModule} from '@angular/material/legacy-table';\n\n@NgModule({\n  declarations: [\n    DashboardComponent,\n    LastInputComponent,\n    LeaderboardComponent,\n    ReportsComponent,\n    TipsComponent,\n    TrendComponent\n    ],\n  imports: [\n    CommonModule,\n    MatCardModule,\n    MatGridListModule,\n    MatTableModule\n  ],\n})\nexport class ReportsModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-tips',\n  templateUrl: './tips.component.html',\n  styleUrls: ['./tips.component.scss']\n})\nexport class TipsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { User } from '../../models/user.model';\n\n@Component({\n  selector: 'app-trend',\n  templateUrl: './trend.component.html',\n  styleUrls: ['./trend.component.scss']\n})\n\nexport class TrendComponent implements OnInit {\n\n  constructor() {}\n\n    setDiversionColor(percent) {\n      switch (true) {\n        case percent < .25:\n          return 'red';\n        case percent >= .25 && percent <= .50:\n          return 'orange';\n        case percent >= .50:\n          return 'green';\n        case percent != null:\n          return 'gray';\n      }\n    }\n\n  ngOnInit() {\n  }\n\n  public get users() {\n    return [];\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { User } from '../models/user.model';\nimport { CollectLocation } from '../models/location.model';\nimport { Container } from '../models/container.model';\nimport { WasteType } from '../models/waste_type.model';\nimport { Collector } from '../models/collector.model';\nimport { Collect, CollectInput } from '../models/collects.model';\nimport { map } from 'rxjs/operators';\nimport { NetworkService } from './network.service';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { DefaultReport } from '../models/reports.model';\n\nexport const LOCAL_STORAGE_JWT_KEY = 'recycle_tracker_jwt'\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ApiService {\n  private isOnline: boolean = true;\n  private isOnlineSubscription: Subscription = null;\n\n  constructor(private http: HttpClient, private networkService: NetworkService) {\n    this.isOnlineSubscription = this.networkService.isOnline$.subscribe((isOnline) => this.isOnline = isOnline);\n  }\n\n  ngOnDestroy() {\n    this.isOnlineSubscription?.unsubscribe();\n    this.isOnlineSubscription = null;\n  }\n\n  public login(body: { email: string, password: string}) {\n    return this.http.post<User>('/auth/login', body, {\n      ...this.httpOptions,\n      observe: 'response',\n    }).pipe(map(response => {\n      const jwt = response.headers.get(\"X-RTRACKER-JWT\");\n      if (jwt) {\n        localStorage.setItem(LOCAL_STORAGE_JWT_KEY, jwt);\n      }\n      return response.body\n    }));\n  }\n\n  public logout() {\n    const post = this.http.post('/auth/logout', {}, this.httpOptions);\n    post.subscribe(() => localStorage.removeItem(LOCAL_STORAGE_JWT_KEY));\n    return post;\n  }\n\n  public currentUser() {\n    const uri = '/auth/current_user'\n    return this.http.get<User>(uri, this.httpOptions);\n  }\n\n  public getLocations() {\n    const uri = '/locations';\n\n    if (this.isOnline) {\n      return this.http.get<CollectLocation[]>(uri, this.httpOptions).pipe(\n        map(this.cacheGetRequest(uri)),\n      );\n    } else {\n      const result = this.getCachedRequest<CollectLocation[]>(uri);\n      console.log(\"Within getLocations\", result);\n      return new BehaviorSubject(result).asObservable();\n    }\n  }\n\n  public getWasteTypes() {\n    const uri = '/waste_types';\n\n    if (this.isOnline) {\n        return this.http.get<WasteType[]>(uri, this.httpOptions).pipe(\n        map(this.cacheGetRequest(uri)),\n      );\n    } else {\n      const result = this.getCachedRequest<WasteType[]>(uri);\n      return new BehaviorSubject(result).asObservable();\n    }\n  }\n\n  public getCollectors() {\n    const uri = '/collectors';\n\n    if (this.isOnline) {\n      return this.http.get<Collector[]>(uri, this.httpOptions).pipe(\n        map(this.cacheGetRequest(uri)),\n      );\n    } else {\n      const result = this.getCachedRequest<Collector[]>(uri);\n      console.log(\"Within getCollectors\", result);\n      return new BehaviorSubject(result).asObservable();\n    }\n  }\n\n\n  public getContainers() {\n    const uri = '/containers';\n\n    if (this.isOnline) {\n      return this.http.get<Container[]>(uri, this.httpOptions).pipe(\n        map(this.cacheGetRequest(uri)),\n      );\n    } else {\n      const result = this.getCachedRequest<Container[]>(uri);\n      console.log(\"Within getContainers\", result);\n      return new BehaviorSubject(result).asObservable();\n    }\n  }\n\n  public recordCollect(collect: CollectInput) {\n    const data = {\n      collect: collect,\n    }\n    return this.http.post<Collect>('/collects', data, this.httpOptions);\n  }\n\n  // dates should be formatted \"YYYY-MM-DD\"\n  public getDefaultReport(startDate: string, endDate: string) {\n    const queryString = `start_date=${startDate}&end_date=${endDate}`\n    return this.http.get<DefaultReport>(`/reports/default?${queryString}`, this.httpOptions);\n  }\n\n  private get headers() {\n    let headers = new HttpHeaders()\n      .set('Content-Type', 'application/json')\n      .set('Accept', 'application/json');\n\n    const jwt = localStorage.getItem(LOCAL_STORAGE_JWT_KEY);\n\n    if (jwt) {\n      headers = headers.append('X-RTRACKER-JWT', jwt);\n    }\n\n    return headers;\n  }\n\n  private get httpOptions() {\n    return {\n      headers: this.headers\n    }\n  };\n\n  private cacheGetRequest<T>(uri: string) {\n    return (apiResponse: T) => {\n      const cacheValue = JSON.stringify(apiResponse);\n      const cacheKey = this.getCacheKey(uri);\n      localStorage.setItem(cacheKey, cacheValue);\n      console.log(\"Logged API Response\", apiResponse);\n      return apiResponse;\n    }\n  }\n\n  private getCachedRequest<T>(uri: string) {\n    const cacheKey = this.getCacheKey(uri);\n    const cachedValue = localStorage.getItem(cacheKey);\n    console.log(\"getCachedRequest\", uri);\n    return JSON.parse(cachedValue) as T;\n  }\n\n  private getCacheKey(uri: string) {\n    console.log(\"getCacheKey\", uri);\n    return `api:${uri}`;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Collect, CollectInput } from '../models/collects.model';\nimport { ApiService } from './api.service';\nimport { NetworkService } from './network.service';\n\ntype QueueType = Record<string, CollectInput>;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CollectService {\n  private readonly QUEUE_CACHE_KEY = \"collection_queue\";\n\n  public isOnline: boolean = true;\n  private isOnlineSubscription: Subscription = null;\n\n  constructor(private api: ApiService, private networkService: NetworkService) {\n    this.isOnlineSubscription = this.networkService.isOnline$.subscribe((isOnline) => {\n      this.isOnline = isOnline;\n      if (isOnline) {\n        this.retryQueue();\n      }\n    });\n\n    // Initialize the queue if necessary\n    if (!localStorage.getItem(this.QUEUE_CACHE_KEY)) {\n      localStorage.setItem(this.QUEUE_CACHE_KEY, \"{}\");\n    }\n  }\n\n  ngOnDestroy() {\n    this.isOnlineSubscription?.unsubscribe();\n  }\n\n  public lastSavedCollect: Collect | null = null;\n\n  public submitCollect(collect: CollectInput) {\n    const queueKey = this.addToQueue(collect);\n\n    return this.api.recordCollect(collect).pipe(\n      map((collect) => {\n        this.lastSavedCollect = collect;\n        this.removeFromQueue(queueKey);\n        return collect;\n      })\n    );\n  }\n\n  private retryQueue() {\n    const q = this.getQueue();\n    Object.keys(q).forEach(key => {\n      const collect = q[key];\n      if (this.collectIsValid(collect)) {\n        this.api.recordCollect(collect).subscribe((_result) => {\n          this.removeFromQueue(key);\n        });\n      }\n      else {\n        console.error(\"Tried to record an invalid queued collect. Not sending to the server.\", collect);\n        this.removeFromQueue(key);\n      }\n    });\n  }\n\n  public addToQueue(collect: CollectInput) {\n    const q = this.getQueue();\n    const key = this.generateId();\n    q[key] = collect;\n    this.setQueue(q);\n    return key;\n  }\n\n  private removeFromQueue(key: string) {\n    const q = this.getQueue();\n    if (!q[key]) {\n      console.error(`Tried to delete an entry from collect queue that doesn't exist (${key})`);\n      return;\n    }\n    delete q[key];\n    this.setQueue(q);\n  }\n\n  private getQueue() {\n    const queueSrc = localStorage.getItem(this.QUEUE_CACHE_KEY);\n    return JSON.parse(queueSrc) as QueueType;\n  }\n\n  private setQueue(queue: QueueType) {\n    const strigifiedQueue = JSON.stringify(queue);\n    localStorage.setItem(this.QUEUE_CACHE_KEY, strigifiedQueue);\n  }\n\n  // Generates a random string of 8 hexadecimal characters\n  private generateId() {\n    var arr = new Uint8Array((8) / 2);\n    window.crypto.getRandomValues(arr);\n    return Array.from(arr, (dec) => dec.toString(16).padStart(2, \"0\")).join(\"\");\n  }\n\n  public collectIsValid(c: CollectInput) {\n    if (\n      c.container_id &&\n      c.location_id &&\n      c.waste_type &&\n      c.collector_id &&\n      c.weighed_at &&\n      c.net_weight !== undefined &&\n      c.net_weight !== null &&\n      c.scale_weight !== undefined &&\n      c.scale_weight !== null &&\n      c.tare_weight !== undefined &&\n      c.tare_weight !== null\n    ) {\n      return true;\n    }\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { Collector } from '../models/collector.model';\nimport { ApiService } from './api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CollectorService {\n  public cachedCollectors: Collector[] = [];\n\n  constructor(private api: ApiService) { }\n\n  public get collectors() {\n    return this.api.getCollectors().pipe(\n      map((collectors) => {\n        this.cachedCollectors = collectors;\n        console.log(collectors);\n        return collectors;\n      })\n    );\n  }\n\n  public idFromCollectorName(name: string): number | undefined {\n    return this.getCollectorByName(name)?.id;\n  }\n\n  public getCollectorByName(name: string) {\n    return this.cachedCollectors.find((collector) => {\n      return collector.name === name;\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { Container } from '../models/container.model';\nimport { ApiService } from './api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContainerService {\n  public cachedContainers: Container[] = [];\n\n  constructor(private api: ApiService) { }\n\n  public get containers() {\n    return this.api.getContainers().pipe(\n      map((containers) => {\n        this.cachedContainers = containers;\n        console.log(containers);\n        return containers;\n      })\n    );\n  }\n\n  public idFromContainerName(name: string): number | undefined {\n    return this.getContainerByName(name)?.id;\n  }\n\n  public getContainerByName(name: string) {\n    return this.cachedContainers.find((container) => {\n      console.log(\"getContainerByName\", container.name);\n      return container.name === name;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { CollectLocation } from '../models/location.model';\nimport { ApiService } from './api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocationService {\n  constructor(private api: ApiService) {}\n\n  public cachedLocations: CollectLocation[] = [];\n\n  public get collectLocations() {\n    return this.api.getLocations().pipe(\n      map((locations) => {\n        this.cachedLocations = locations;\n        console.log(locations);\n        return locations;\n      })\n    );\n  };\n\n  public idFromLocationName(name: string): number | undefined {\n    return this.cachedLocations.find((location) => {\n      return location.name === name;\n    })?.id;\n  }\n}","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NetworkService {\n  private _isOnline = new BehaviorSubject<boolean>(true);\n\n  constructor() {\n    const handleConnectionChange = (event) => {\n      if (event.type == \"offline\") {\n        this._isOnline.next(false);\n      }\n      else if (event.type == \"online\") {\n        this._isOnline.next(true);\n      }\n    }\n\n    window.addEventListener(\"online\", handleConnectionChange);\n    window.addEventListener(\"offline\", handleConnectionChange);\n  }\n\n  public get isOnline$() {\n    return this._isOnline.asObservable();\n  }\n\n  public get isOffline$() {\n    return this.isOnline$.pipe(\n      map((isOnline) => !isOnline)\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ScaleWeight } from '../models/scale.model';\nimport { BrowserSerial } from 'browser-serial';\nimport { UserService } from './user.service';\nimport { User } from '../models/user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ScaleService {\n  constructor(public http: HttpClient, private userService: UserService) {\n    this.currentUserSubscription = this.userService.currentUser.subscribe(user => {\n      if (user) {\n        this.connectToScale(user);\n      }\n    });\n  }\n\n  private serial = new BrowserSerial();\n  private scaleValue: BehaviorSubject<ScaleWeight> = new BehaviorSubject({ scale: 0 });\n  private currentUserSubscription: Subscription = null;\n\n  ngOnDestroy() {\n    this.currentUserSubscription?.unsubscribe();\n  }\n\n  async connectToScale(user: User) {\n    if (!user.scale) {\n      return;\n    }\n    console.log(\"Connecting to scale: \", user.scale);\n\n    this.serial.serialOptions = {\n      baudRate: user.scale.baud_rate,\n      dataBits: user.scale.data_bit,\n      stopBits: user.scale.stop_bit,\n      bufferSize: user.scale.buffer_size,\n      flowControl: \"none\"\n    };\n\n    const regex = new RegExp(user.scale.regex);\n\n    await this.serial.connect();\n\n    this.serial.readLoop((output: string, _done: boolean) => {\n      const result = regex.exec(output);\n      if (!result) {\n        console.warn(\"Could not parse the scale output - regex or scale read issue:\\n\", output);\n        return true;\n      }\n      console.log(\"Result from parsing raw scale output:\\n\", result);\n/*\n      const signStr = result[1];\n      const weightStr = result[2];\n      if (!signStr || !weightStr) {\n        console.warn(\"Could not parse a weight from the scale output - no signStr or weightStr:\\n\", output);\n        return true;\n      }\n\n      let sign: number, weight: number;\n      try {\n        sign = signStr === \"+\" ? 1 : -1;\n        weight = parseFloat(weightStr) * sign;\n      }\n      catch {\n        console.warn(\"Could not parse float value from scale output - could not parseFloat:\\n\", [output, signStr, weightStr]);\n        return true;\n      }\n*/\n      let weight: number;\n      weight = parseInt(result[0]);\n\n      const scaleWeight: ScaleWeight = { scale: weight };\n      console.log(\"Pushing to scaleValue:\", scaleWeight);\n      this.scaleValue.next(scaleWeight);\n      return true;\n    });\n  }\n\n  public getScaleWeight(): Observable<number>{\n    return this.scaleValue.asObservable().pipe(map((scaleWeight) => scaleWeight.scale));\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { User } from '../models/user.model';\nimport { ApiService, LOCAL_STORAGE_JWT_KEY } from './api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class UserService implements CanActivate {\n  private _currentUser = new BehaviorSubject<User | null>(null);\n\n  constructor(private router: Router, private api: ApiService) {\n    if (localStorage.getItem(LOCAL_STORAGE_JWT_KEY)) {\n      this.api.currentUser()\n      .pipe(\n        catchError((error, _caught) => {\n          if (error?.error?.reason === \"expired_signature\") {\n            console.log(\"Expired signature\");\n            localStorage.removeItem(LOCAL_STORAGE_JWT_KEY);\n          }\n          return throwError(error);\n        })\n      )\n      // No need to unsubscribe because currentUser calls `http`\n      .subscribe(user => {\n        this._currentUser.next(user);\n      });\n    }\n  }\n\n  get currentUser(): Observable<User | null> {\n    return this._currentUser.asObservable();\n  }\n\n  public signIn(email: string, password: string) {\n    const body = { email, password }\n    // No need to unsubscribe because login calls `http`\n    return this.api.login(body).subscribe(user => this._currentUser.next(user));\n  }\n\n  public signOut() {\n    const observable = this.api.logout()\n    // No need to unsubscribe\n    observable.subscribe(() => {\n      this._currentUser.next(null);\n      this.router.navigate(['/']);\n    });\n    return observable;\n  }\n\n  canActivate(_route, _state)\n  {\n    return this._currentUser.pipe(map(user => {\n      if (user) {\n        return true;\n      }\n      else {\n        this.router.navigate(['/login']);\n        return false;\n      }\n    }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { WasteType } from '../models/waste_type.model';\nimport { ApiService } from './api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WasteTypeService {\n  constructor(private api: ApiService) { }\n\n  public cachedWaste_Types: WasteType[] = [];\n\n  public get waste_types() {\n    return this.api.getWasteTypes().pipe(\n      map((waste_types) => {\n        this.cachedWaste_Types = waste_types;\n        console.log(waste_types);\n        return waste_types;\n      })\n    );\n  };\n\n  public idFromWaste_TypeName(name: string) {\n    return this.getWaste_TypeByName(name)?.id;\n  }\n\n  public getWaste_TypeByName(name: string) {\n    return this.cachedWaste_Types.find((waste_type) => {\n      return waste_type.waste_type_name === name;\n    });\n  }\n\n}","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UserService } from '../../services/user.service';\nimport { User } from '../../models/user.model';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n\nbuildingLogo:string = \"\";\n\n  constructor(public http: HttpClient, private userService: UserService) {\n    this.currentUserSubscription = this.userService.currentUser.subscribe(user => {\n      if (user) {\n        this.getBuildingLogo(user);\n      }\n    });\n  }\n\n  private currentUserSubscription: Subscription = null;\n\n  ngOnDestroy() {\n    this.currentUserSubscription?.unsubscribe();\n  }\n\n  async getBuildingLogo(user: User) {\n    if (!user) {\n      return;\n    }\n\n    this.buildingLogo = user.photo_url\n\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NetworkService } from '../../services/network.service';\nimport { UserService } from '../../services/user.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n\n  constructor(\n    private router: Router,\n    public userService: UserService,\n    public networkService: NetworkService,\n  ) { }\n\n  show = false;\n\n  ngOnInit() {\n  }\n\n  toggleCollapse() {\n    this.show = !this.show;\n  }\n\n  signOut() {\n    // No need to unsubscribe\n    this.userService.signOut().subscribe(() => {\n      this.router.navigate(['/login'])\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.scss']\n})\nexport class LayoutComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { FooterComponent } from './footer/footer.component';\nimport { HeaderComponent } from './header/header.component';\nimport { LayoutComponent } from './layout/layout.component';\n\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatLegacyMenuModule as MatMenuModule } from '@angular/material/legacy-menu';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatToolbarModule } from '@angular/material/toolbar';\n\n@NgModule({\n  declarations: [\n    LayoutComponent,\n    HeaderComponent,\n    FooterComponent\n    ],\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatCommonModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatMenuModule,\n    MatRippleModule,\n    MatSidenavModule,\n    MatToolbarModule,\n    RouterModule\n    ],\n  exports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatCommonModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatCardModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatMenuModule,\n    MatRippleModule,\n    MatSidenavModule,\n    MatToolbarModule,\n    RouterModule,\n    LayoutComponent,\n    HeaderComponent,\n    FooterComponent\n    ]\n})\nexport class UiModule { }","import { Component, OnInit } from '@angular/core';\nimport {\n  UntypedFormBuilder,\n  UntypedFormGroup,\n  Validators\n} from '@angular/forms';\nimport { UserService } from '../../services/user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-email-login',\n  templateUrl: './email-login.component.html',\n  styleUrls: ['./email-login.component.scss']\n})\n\nexport class EmailLoginComponent implements OnInit {\n  form: UntypedFormGroup;\n  loading = false;\n  serverMessage: string;\n\n  constructor(private fb: UntypedFormBuilder, private userService: UserService, private router: Router) { }\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.minLength(8), Validators.required]],\n    });\n\n    // No need to unsubscribe\n    this.userService.currentUser.subscribe(user => {\n      if (user) {\n        this.router.navigate(['/collect_form']);\n      }\n    })\n  }\n\n  get email() {\n    return this.form.get('email');\n  }\n\n  get password() {\n    return this.form.get('password');\n  }\n\n  async onSubmit() {\n    this.loading = true;\n    const email = this.email.value;\n    const password = this.password.value;\n\n    this.userService.signIn(email, password);\n\n    this.loading = false;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormBuilder, Validators, AbstractControl } from '@angular/forms';\nimport { map, take, debounceTime } from 'rxjs/operators';\nimport { UserService } from '../../services/user.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\n\nexport class LoginComponent implements OnInit {\n\n  loginForm: UntypedFormGroup\n\n  constructor(private fb: UntypedFormBuilder, public userService: UserService) { }\n\n  ngOnInit() {\n    this.loginForm = this.fb.group({\n      email:['', [\n        Validators.required,\n        Validators.email\n        ]],\n      username:  ['',\n        Validators.required\n        ],\n    });\n  }\n\n    get email() {\n      return this.loginForm.get('email')\n    }\n\n    get username() {\n      return this.loginForm.get('username')\n    }\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { LoginComponent } from './login/login.component';\nimport { EmailLoginComponent } from './email-login/email-login.component';\n\n// UI\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\nimport { MatLegacySelectModule as MatSelectModule } from '@angular/material/legacy-select';\n\n@NgModule({\n  declarations: [LoginComponent, EmailLoginComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatFormFieldModule,\n    MatGridListModule,\n    MatInputModule,\n    MatSelectModule\n  ]\n})\nexport class UserModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-web-usb',\n  templateUrl: './web-usb.component.html',\n  styleUrls: ['./web-usb.component.scss']\n})\nexport class WebUsbComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n};","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".progress {\\n  padding: 2em;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/collector/collected/collected.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,YAAA;AACJ\",\"sourcesContent\":[\".progress {\\n    padding: 2em;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mat-grid-tile-header {\\n  border-bottom: #66BB6A solid 2px !important;\\n  background: #AAA !important;\\n  color: #303030 !important;\\n  font-size: 2em;\\n}\\n\\n.mat-form-field {\\n  margin-top: 1rem;\\n  min-width: 280px;\\n}\\n\\n.scale_input {\\n  font-size: 4em;\\n  color: #303030;\\n  min-width: 250px;\\n}\\n\\n.net-weight {\\n  font-size: 6em;\\n  color: #66BB6A;\\n  min-width: 300px;\\n}\\n\\n.number-field {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n\\n.label {\\n  margin-top: 0.25rem;\\n}\\n\\n.example-option-img {\\n  padding-right: 2rem;\\n}\\n\\n.buttons-content {\\n  margin-top: 2rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/collector/collector.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,2CAAA;EACA,2BAAA;EACA,yBAAA;EACA,cAAA;AACJ;;AAEA;EACI,gBAAA;EACA,gBAAA;AACJ;;AAEA;EACI,cAAA;EACA,cAAA;EACA,gBAAA;AACJ;;AAEA;EACI,cAAA;EACA,cAAA;EACA,gBAAA;AACJ;;AAEA;EACI,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,sBAAA;AACJ;;AAEA;EACI,mBAAA;AACJ;;AAEA;EACI,mBAAA;AACJ;;AAEA;EACI,gBAAA;AACJ\",\"sourcesContent\":[\".mat-grid-tile-header {\\n    border-bottom: #66BB6A solid 2px !important;\\n    background: #AAA !important;\\n    color: #303030 !important;\\n    font-size: 2em;\\n}\\n\\n.mat-form-field {\\n    margin-top: 1rem;\\n    min-width: 280px;\\n}\\n\\n.scale_input {\\n    font-size: 4em;\\n    color: #303030;\\n    min-width: 250px;\\n}\\n\\n.net-weight {\\n    font-size: 6em;\\n    color: #66BB6A;\\n    min-width: 300px;\\n}\\n\\n.number-field {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    flex-direction: column;\\n}\\n\\n.label {\\n    margin-top: .25rem;\\n}\\n\\n.example-option-img {\\n    padding-right: 2rem;\\n}\\n\\n.buttons-content {\\n    margin-top: 2rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".last-input {\\n  padding: 1rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/reports/last-input/last-input.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,aAAA;AACJ\",\"sourcesContent\":[\".last-input {\\n    padding: 1rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"table {\\n  width: 30rem;\\n  height: 18rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/reports/leaderboard/leaderboard.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAA;EACA,aAAA;AACF\",\"sourcesContent\":[\"table {\\n  width: 30rem;\\n  height: 18rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".trend-th {\\n  text-align: center;\\n}\\n\\n.trend-td {\\n  padding: 0 2rem 0 2rem;\\n  margin: 1rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/reports/trend/trend.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,kBAAA;AACJ;;AAEA;EACI,sBAAA;EACA,YAAA;AACJ\",\"sourcesContent\":[\".trend-th {\\n    text-align: center;\\n}\\n\\n.trend-td {\\n    padding: 0 2rem 0 2rem;\\n    margin: 1rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mat-toolbar {\\n  border-top: #01579B solid 1px !important;\\n  margin-top: 2rem;\\n  max-height: 1rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/ui/footer/footer.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,wCAAA;EACA,gBAAA;EACA,gBAAA;AACJ\",\"sourcesContent\":[\".mat-toolbar {\\n    border-top: #01579B solid 1px !important;\\n    margin-top: 2rem;\\n    max-height: 1rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#title {\\n  color: white;\\n}\\n\\n.spacer {\\n  flex: 1 1 auto;\\n}\\n\\n.mat-toolbar {\\n  border-bottom: #01579B solid 1px !important;\\n  padding-top: 1rem;\\n}\\n\\n.offline-notification {\\n  text-align: center;\\n  font-weight: bold;\\n  font-size: 16px;\\n  padding: 10px;\\n  margin: 0;\\n  background-color: rgb(255, 100, 100);\\n}\\n.offline-notification p {\\n  margin: 0;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/ui/header/header.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,YAAA;AACJ;;AAEA;EACE,cAAA;AACF;;AAEA;EACI,2CAAA;EACA,iBAAA;AACJ;;AAEA;EACE,kBAAA;EACA,iBAAA;EACA,eAAA;EACA,aAAA;EACA,SAAA;EACA,oCAAA;AACF;AACE;EACE,SAAA;AACJ\",\"sourcesContent\":[\"#title {\\n    color: white;\\n}\\n\\n.spacer {\\n  flex: 1 1 auto;\\n}\\n\\n.mat-toolbar {\\n    border-bottom: #01579B solid 1px !important;\\n    padding-top: 1rem;\\n}\\n\\n.offline-notification {\\n  text-align: center;\\n  font-weight: bold;\\n  font-size: 16px;\\n  padding: 10px;\\n  margin: 0;\\n  background-color: rgb(255, 100, 100);\\n\\n  p {\\n    margin: 0;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"container-content {\\n  min-height: 100vh;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/ui/layout/layout.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;AACF\",\"sourcesContent\":[\"container-content {\\n  min-height: 100vh;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"mat-card {\\n  max-width: 30rem;\\n  margin: 1rem;\\n}\\n\\nmat-form-field {\\n  width: 100%;\\n  margin-bottom: 16px;\\n}\\n\\n.server-error {\\n  margin: 8px 0;\\n}\\n\\ninput {\\n  height: 2em;\\n}\\ninput div.mat-form-field-infix {\\n  padding: 0.3em 0;\\n}\\ninput div.mat-form-field-infix input.mat-input-element {\\n  vertical-align: top;\\n}\\n\\ndiv.mat-form-field-wrapper {\\n  padding-bottom: 1.15em;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/user/email-login/email-login.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,gBAAA;EACA,YAAA;AACJ;;AAEA;EACM,WAAA;EACA,mBAAA;AACN;;AAEA;EACI,aAAA;AACJ;;AAGA;EACI,WAAA;AAAJ;AACI;EACE,gBAAA;AACN;AAAM;EACE,mBAAA;AAER;;AAEE;EACE,sBAAA;AACJ\",\"sourcesContent\":[\"mat-card {\\n    max-width: 30rem;\\n    margin: 1rem;\\n}\\n\\nmat-form-field {\\n      width: 100%;\\n      margin-bottom: 16px;\\n}\\n\\n.server-error {\\n    margin: 8px 0;;\\n}\\n\\n\\ninput {\\n    height: 2em;\\n    div.mat-form-field-infix {\\n      padding: .3em 0;\\n      input.mat-input-element {\\n        vertical-align: top;\\n      }\\n    }\\n  }\\n  div.mat-form-field-wrapper{\\n    padding-bottom: 1.15em;\\n  }\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"mat-card {\\n  max-width: 30rem;\\n  margin: 1rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/user/login/login.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,gBAAA;EACA,YAAA;AACJ\",\"sourcesContent\":[\"mat-card {\\n    max-width: 30rem;\\n    margin: 1rem;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","CollectorComponent","HomeComponent","DashboardComponent","LeaderboardComponent","LoginComponent","PageNotFoundComponent","ReportsComponent","UserService","routes","path","component","canActivate","AppRoutingModule","imports","forRoot","onSameUrlNavigation","exports","Component","AppComponent","constructor","ngOnInit","selector","template","BrowserModule","ErrorHandler","Inject","Injectable","InjectionToken","BrowserAnimationsModule","FormsModule","ReactiveFormsModule","HttpClientModule","Rollbar","CollectorModule","ReportsModule","UiModule","UserModule","WebUsbComponent","FocusInvalidInputDirective","AutofocusDirective","rollbarConfig","accessToken","captureUncaught","captureUnhandledRejections","RollbarErrorHandler","rollbar","handleError","err","error","originalError","args","RollbarService","rollbarFactory","AppModule","declarations","providers","provide","useClass","useFactory","bootstrap","CollectService","CollectedComponent","collectService","lastCollect","lastSavedCollect","ViewChild","MatLegacyDialog","MatDialog","MatLegacyDialogConfig","MatDialogConfig","UntypedFormControl","UntypedFormGroup","Validators","combineLatest","map","startWith","LocationService","ScaleService","ContainerService","WasteTypeService","CollectorService","QueuedComponent","locationIsValid","control","ls","idFromLocationName","value","validSet","waste_typeIsValid","wts","idFromWaste_TypeName","collectorIsValid","collrs","idFromCollectorName","containerIsValid","conts","idFromContainerName","dialog","ss","us","cs","collect_location","required","waste_type","collector","container","tare_weight","min","scale_weight","net_weight","isLoggedIn","updateScaleWeight","updateNetWeight","filteredCollectLocations$","collectForm","controls","valueChanges","pipe","collectLocations","filtered","_filteredCollectLocations","sort","a","b","floor","name","filteredWaste_Types$","get","waste_types","_filteredWasteTypes","filteredCollectors$","collectors","_filteredCollectors","filteredContainers$","containers","_filteredContainers","updateTare","getScaleUnit","scaleSubscription","getScaleWeight","subscribe","scale","scaleValue$","console","log","setValue","Math","round","currentUser","toPromise","scale_unit","scaleWeightSubscription","tareWeightSubscription","tareSubscription","containerNameChange","getContainerByName","filterValue","toLowerCase","filter","collectLocation","indexOf","waste_type_name","getCollectFromForm","form","values","collect","container_id","location_id","collector_id","weighed_at","Date","now","collectFormReset","collectNgForm","resetForm","onSubmit","collectIsValid","isOnline","submitCollect","openCollectedDialog","success","addToQueue","openQueuedDialog","reset","dialogConfig","disableClose","autoFocus","hasBackdrop","width","height","closeOnNavigation","dialogRef","open","setTimeout","close","ngOnDestroy","unsubscribe","static","CommonModule","MatLegacyAutocompleteModule","MatAutocompleteModule","MatLegacyButtonModule","MatButtonModule","MatLegacyCardModule","MatCardModule","MatLegacyDialogModule","MatDialogModule","MatLegacyFormFieldModule","MatFormFieldModule","MatGridListModule","MatIconModule","MatLegacyInputModule","MatInputModule","MatLegacyProgressSpinnerModule","MatProgressSpinnerModule","MatLegacySelectModule","MatSelectModule","Directive","ElementRef","host","ngAfterViewInit","nativeElement","focus","HostListener","el","onFormSubmit","invalidControl","querySelector","LastInputComponent","LOCATION_DATA","position","percent","suite","logo","LEADERBOARD_DATA","ApiService","api","startDate","endDate","getDefaultReport","items","TipsComponent","TrendComponent","MatLegacyTableModule","MatTableModule","setDiversionColor","users","HttpClient","HttpHeaders","NetworkService","BehaviorSubject","LOCAL_STORAGE_JWT_KEY","http","networkService","isOnlineSubscription","isOnline$","login","body","post","httpOptions","observe","response","jwt","headers","localStorage","setItem","logout","removeItem","uri","getLocations","cacheGetRequest","result","getCachedRequest","asObservable","getWasteTypes","getCollectors","getContainers","recordCollect","data","queryString","set","getItem","append","apiResponse","cacheValue","JSON","stringify","cacheKey","getCacheKey","cachedValue","parse","providedIn","retryQueue","QUEUE_CACHE_KEY","queueKey","removeFromQueue","q","getQueue","Object","keys","forEach","key","_result","generateId","setQueue","queueSrc","queue","strigifiedQueue","arr","Uint8Array","window","crypto","getRandomValues","Array","from","dec","toString","padStart","join","c","undefined","cachedCollectors","getCollectorByName","id","find","cachedContainers","locations","cachedLocations","location","handleConnectionChange","event","type","_isOnline","next","addEventListener","isOffline$","BrowserSerial","userService","currentUserSubscription","user","connectToScale","serial","serialOptions","baudRate","baud_rate","dataBits","data_bit","stopBits","stop_bit","bufferSize","buffer_size","flowControl","regex","RegExp","connect","readLoop","output","_done","exec","warn","weight","parseInt","scaleWeight","scaleValue","Router","throwError","catchError","router","_caught","reason","_currentUser","signIn","email","password","signOut","observable","navigate","_route","_state","cachedWaste_Types","getWaste_TypeByName","FooterComponent","getBuildingLogo","buildingLogo","photo_url","HeaderComponent","toggleCollapse","show","LayoutComponent","FlexLayoutModule","MatCommonModule","MatButtonToggleModule","MatLegacyMenuModule","MatMenuModule","MatRippleModule","MatSidenavModule","MatToolbarModule","UntypedFormBuilder","EmailLoginComponent","fb","group","minLength","loading","loginForm","username","environment","production","enableProdMode","platformBrowserDynamic","bootstrapModule","catch"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}